<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="billreport" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" isFloatColumnFooter="true">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<parameter name="code" class="java.lang.String"/>
	<parameter name="date" class="java.util.Date"/>
	<parameter name="clientAddress" class="java.lang.String"/>
	<parameter name="object" class="java.lang.String"/>
	<parameter name="totalHt" class="java.lang.String">
		<defaultValueExpression><![CDATA[new String("")]]></defaultValueExpression>
	</parameter>
	<parameter name="vat" class="java.lang.Float">
		<defaultValueExpression><![CDATA[new Float(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="totalVat" class="java.lang.String">
		<defaultValueExpression><![CDATA[new String ("")]]></defaultValueExpression>
	</parameter>
	<parameter name="total" class="java.lang.String">
		<defaultValueExpression><![CDATA[new String ("")]]></defaultValueExpression>
	</parameter>
	<parameter name="paymentConditions" class="java.lang.String"/>
	<parameter name="header" class="java.lang.String"/>
	<parameter name="clientName" class="java.lang.String"/>
	<parameter name="clientZip" class="java.lang.String"/>
	<parameter name="clientCity" class="java.lang.String"/>
	<parameter name="devise" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[new String("€")]]></defaultValueExpression>
	</parameter>
	<parameter name="reference" class="java.lang.String" isForPrompting="false"/>
	<parameter name="libelle_code" class="java.lang.String" isForPrompting="false"/>
	<parameter name="company_catchword" class="java.lang.String" isForPrompting="false"/>
	<parameter name="company_designation" class="java.lang.String" isForPrompting="false"/>
	<parameter name="company_address" class="java.lang.String" isForPrompting="false"/>
	<parameter name="company_phoneNumber" class="java.lang.String" isForPrompting="false"/>
	<parameter name="company_APE" class="java.lang.String" isForPrompting="false"/>
	<parameter name="company_SIRET" class="java.lang.String" isForPrompting="false"/>
	<parameter name="company_TVAInterCom" class="java.lang.String" isForPrompting="false"/>
	<parameter name="comments" class="java.lang.String" isForPrompting="false"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["/home/jerome/Bureau/kernely/kernely/invoice/src/main/resources/jasper/"]]></defaultValueExpression>
	</parameter>
	<parameter name="path_subReport1" class="java.lang.String"/>
	<parameter name="vatList" class="java.util.Collection"/>
	<field name="designation" class="java.lang.String">
		<fieldDescription><![CDATA[designation]]></fieldDescription>
	</field>
	<field name="up" class="java.lang.String">
		<fieldDescription><![CDATA[up]]></fieldDescription>
	</field>
	<field name="qty" class="java.lang.String">
		<fieldDescription><![CDATA[qty]]></fieldDescription>
	</field>
	<field name="totalLine" class="java.lang.String">
		<fieldDescription><![CDATA[totalLine]]></fieldDescription>
	</field>
	<field name="vatForLine" class="java.lang.String">
		<fieldDescription><![CDATA[vatForLine]]></fieldDescription>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="99" splitType="Stretch">
			<image scaleImage="RetainShape">
				<reportElement key="image" x="0" y="5" width="555" height="60"/>
				<imageExpression class="java.lang.String"><![CDATA[$P{header}]]></imageExpression>
			</image>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-5" x="0" y="68" width="555" height="20"/>
				<textElement verticalAlignment="Middle">
					<font size="12" isBold="true" pdfFontName="Times-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{company_catchword}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="180" splitType="Stretch">
			<rectangle>
				<reportElement key="rectangle" stretchType="RelativeToBandHeight" x="0" y="0" width="555" height="146" forecolor="#CCCCCC" backcolor="#97A6AA"/>
			</rectangle>
			<staticText>
				<reportElement key="staticText" x="10" y="0" width="74" height="20"/>
				<textElement verticalAlignment="Middle">
					<font size="12" isBold="true" pdfFontName="Times-Bold"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText" x="10" y="20" width="38" height="20"/>
				<textElement verticalAlignment="Middle">
					<font size="12" isBold="true" pdfFontName="Times-Bold"/>
				</textElement>
				<text><![CDATA[Date :]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText" x="269" y="0" width="286" height="20"/>
				<textElement verticalAlignment="Middle">
					<font size="12" isBold="true" pdfFontName="Times-Bold"/>
				</textElement>
				<text><![CDATA[Adresse Facturation :]]></text>
			</staticText>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement key="textField" x="48" y="20" width="100" height="20"/>
				<textElement verticalAlignment="Middle">
					<font size="12" isBold="true" pdfFontName="Times-Bold"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$P{date}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField" x="269" y="40" width="281" height="20" isRemoveLineWhenBlank="true"/>
				<textElement>
					<font size="12" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[(($P{clientAddress}!=null)?new String("" +$P{clientAddress}):"") + "\n" + (($P{clientZip}!=null)?new String("" +$P{clientZip}):"") +" "+(($P{clientCity}!=null)?new String("" +$P{clientCity}):"")]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField" positionType="Float" mode="Transparent" x="10" y="99" width="540" height="20"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="12" isBold="true" isUnderline="false" pdfFontName="Times-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[new String ("Objet : "+$P{object})]]></textFieldExpression>
			</textField>
			<rectangle>
				<reportElement key="rectangle" positionType="FixRelativeToBottom" x="0" y="160" width="325" height="20"/>
			</rectangle>
			<rectangle>
				<reportElement key="rectangle" positionType="FixRelativeToBottom" x="275" y="160" width="50" height="20"/>
			</rectangle>
			<rectangle>
				<reportElement key="rectangle" positionType="FixRelativeToBottom" x="325" y="160" width="80" height="20"/>
			</rectangle>
			<rectangle>
				<reportElement key="rectangle" positionType="FixRelativeToBottom" x="405" y="160" width="100" height="20"/>
			</rectangle>
			<staticText>
				<reportElement key="staticText" positionType="FixRelativeToBottom" x="5" y="160" width="320" height="20"/>
				<textElement verticalAlignment="Middle">
					<font size="12" isBold="true" isItalic="true" pdfFontName="Times-BoldItalic"/>
				</textElement>
				<text><![CDATA[DESIGNATIONS]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement key="textField" x="269" y="20" width="281" height="20"/>
				<textElement>
					<font size="12" isBold="true" pdfFontName="Times-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{clientName}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-4" positionType="Float" x="10" y="78" width="540" height="20"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="12" isBold="true" isUnderline="false" pdfFontName="Times-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[($P{reference}.isEmpty())?(new String("")):(new String("Référence : "+$P{reference}))]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField" stretchType="RelativeToTallestObject" x="10" y="0" width="258" height="20"/>
				<textElement verticalAlignment="Middle">
					<font size="12" isBold="true" pdfFontName="Times-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[new String($P{libelle_code} + $P{code})]]></textFieldExpression>
			</textField>
			<rectangle>
				<reportElement key="rectangle" positionType="FixRelativeToBottom" x="505" y="160" width="50" height="20"/>
			</rectangle>
			<staticText>
				<reportElement key="staticText" positionType="FixRelativeToBottom" x="505" y="160" width="50" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true" isItalic="true" pdfFontName="Times-BoldItalic"/>
				</textElement>
				<text><![CDATA[TVA]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText" positionType="FixRelativeToBottom" x="275" y="160" width="50" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true" isItalic="true" pdfFontName="Times-BoldItalic"/>
				</textElement>
				<text><![CDATA[Qté]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText" positionType="FixRelativeToBottom" x="325" y="160" width="80" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true" isItalic="true" pdfFontName="Times-BoldItalic"/>
				</textElement>
				<text><![CDATA[PU]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText" positionType="FixRelativeToBottom" x="405" y="160" width="100" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true" isItalic="true" pdfFontName="Times-BoldItalic"/>
				</textElement>
				<text><![CDATA[Montant]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="20" splitType="Prevent">
			<rectangle>
				<reportElement key="rectangle" stretchType="RelativeToBandHeight" mode="Opaque" x="0" y="0" width="325" height="20"/>
			</rectangle>
			<rectangle>
				<reportElement key="rectangle" stretchType="RelativeToBandHeight" x="275" y="0" width="50" height="20"/>
			</rectangle>
			<rectangle>
				<reportElement key="rectangle" stretchType="RelativeToBandHeight" x="325" y="0" width="80" height="20"/>
			</rectangle>
			<rectangle>
				<reportElement key="rectangle" stretchType="RelativeToBandHeight" x="405" y="0" width="100" height="20"/>
			</rectangle>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField" x="5" y="0" width="320" height="20"/>
				<textElement verticalAlignment="Middle">
					<font size="12" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{designation}]]></textFieldExpression>
			</textField>
			<rectangle>
				<reportElement key="rectangle" positionType="FixRelativeToBottom" x="505" y="0" width="50" height="20"/>
			</rectangle>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField" x="275" y="0" width="50" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{qty}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField" x="325" y="0" width="80" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{up}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField" x="405" y="0" width="95" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="12" isBold="true" pdfFontName="Times-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{totalLine}+" "+$P{devise}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField" x="505" y="0" width="50" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{vatForLine}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="71" splitType="Stretch">
			<textField isBlankWhenNull="true">
				<reportElement key="textField-6" x="0" y="8" width="555" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11" isBold="true" pdfFontName="Times-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{company_designation}+" "+$P{company_address}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-7" x="0" y="28" width="555" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11" isBold="true" isItalic="true" pdfFontName="Times-BoldItalic"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{company_phoneNumber}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-8" x="0" y="46" width="555" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11" isBold="false" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{company_APE}+" "+$P{company_SIRET}+" "+$P{company_TVAInterCom}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band height="223" splitType="Stretch">
			<rectangle>
				<reportElement key="rectangle" positionType="Float" x="455" y="56" width="100" height="20"/>
			</rectangle>
			<rectangle>
				<reportElement key="rectangle" positionType="Float" x="0" y="96" width="455" height="20" backcolor="#97A6AA"/>
			</rectangle>
			<rectangle>
				<reportElement key="rectangle" positionType="Float" x="455" y="96" width="100" height="20" backcolor="#97A6AA"/>
			</rectangle>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-9" positionType="Float" isPrintRepeatedValues="false" mode="Transparent" x="0" y="8" width="555" height="40" isRemoveLineWhenBlank="true"/>
				<box topPadding="4" leftPadding="2" bottomPadding="4" rightPadding="2">
					<pen lineWidth="1.0" lineStyle="Solid"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid"/>
					<rightPen lineWidth="1.0" lineStyle="Solid"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="12" pdfFontName="Times-Roman"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{comments}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText" positionType="Float" x="397" y="56" width="53" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="12" pdfFontName="Times-Roman"/>
				</textElement>
				<text><![CDATA[Total HT]]></text>
			</staticText>
			<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="false">
				<reportElement key="textField" positionType="Float" x="455" y="56" width="95" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="12" isBold="true" pdfFontName="Times-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{totalHt}+" "+$P{devise}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText" positionType="Float" x="350" y="96" width="100" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="12" isBold="true" pdfFontName="Times-Bold"/>
				</textElement>
				<text><![CDATA[TOTAL]]></text>
			</staticText>
			<textField pattern="###0.00" isBlankWhenNull="false">
				<reportElement key="textField" positionType="Float" x="455" y="96" width="95" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="12" isBold="true" pdfFontName="Times-Bold"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{total}+" "+$P{devise}]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement x="0" y="76" width="555" height="20"/>
				<dataSourceExpression><![CDATA[new JRBeanCollectionDataSource($P{vatList})]]></dataSourceExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{path_subReport1}]]></subreportExpression>
			</subreport>
			<rectangle>
				<reportElement key="rectangle" positionType="Float" x="0" y="56" width="455" height="20"/>
			</rectangle>
			<elementGroup>
				<rectangle>
					<reportElement key="rectangle-1" positionType="Float" stretchType="RelativeToBandHeight" x="0" y="175" width="555" height="46"/>
					<graphicElement>
						<pen lineWidth="1.0"/>
					</graphicElement>
				</rectangle>
				<textField isBlankWhenNull="true">
					<reportElement key="textField" positionType="Float" x="5" y="185" width="545" height="26"/>
					<textElement textAlignment="Justified" verticalAlignment="Middle">
						<font size="12" pdfFontName="Times-Roman"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[new String ("Condition de règlement : "+$P{paymentConditions})]]></textFieldExpression>
				</textField>
			</elementGroup>
			<staticText>
				<reportElement key="staticText" positionType="Float" x="355" y="56" width="100" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="12" isBold="true" pdfFontName="Times-Bold"/>
				</textElement>
				<text><![CDATA[TOTAL HT ]]></text>
			</staticText>
		</band>
	</summary>
</jasperReport>
